<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Custom Cast Receiver</title>
    <script type="text/javascript" src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
    <style>
      body {
        margin: 0;
        background-color: #000;
        overflow: hidden;
      }

      cast-media-player {
        --splash-image: url("https://example.com/initial-image.jpg"); /* Default image */
      }
    </style>
</head>
<body>
  <cast-media-player></cast-media-player> <!-- Keeps the default media player UI -->

  <script>
    const context = cast.framework.CastReceiverContext.getInstance();
    const playerManager = context.getPlayerManager();

    // Start the receiver context
    context.start();

    // Function to update the media metadata
    function updateMediaMetadata(title, artist) {
      const metadata = new cast.framework.messages.MediaMetadata(cast.framework.messages.MetadataType.MUSIC_TRACK);
      metadata.title = title;
      metadata.artist = artist;

      const mediaInfo = new cast.framework.messages.MediaInformation();
      mediaInfo.metadata = metadata;

      playerManager.load(mediaInfo);
    }

    // Log when the receiver is ready
    context.addEventListener(cast.framework.system.EventType.READY, () => {
      console.log("Receiver is ready!");
    });

    // Wait for 10 seconds, then update the title and artist
    setTimeout(() => {
      updateMediaMetadata('Hello', 'Qasem');
      console.log('Metadata updated to Hello, Qasem');
    }, 10000); // 10,000 milliseconds = 10 seconds
  </script>
</body>
</html>
